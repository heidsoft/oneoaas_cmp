<%inherit file="/home_application/base_new.html"/>
<%block name="content">
<!-- Page Heading -->
<div class="row page-header-box">
    <div class="col-lg-12">
        <h1 class="page-header">
            资源统计
        </h1>
    </div>
</div>
<!-- /.row -->

<div class="row data-panel">
    <div class="col-lg-3 col-md-6">
        <div class="king-widget2">
            <div class="king-widget-content p20 bg-info">
                <div class="king-counter king-counter-lg">
                    <div class="king-counter-label text-uppercase f16">数据中心</div>
                    <div class="king-counter-number-group">
                        <span class="king-counter-number white">3个</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6">
        <div class="king-widget2">
            <div class="king-widget-content p20 bg-info">
                <div class="king-counter king-counter-lg">
                    <div class="king-counter-label text-uppercase f16">集群</div>
                    <div class="king-counter-number-group">
                        <span class="king-counter-number white">6个</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6">
        <div class="king-widget2">
            <div class="king-widget-content p20 bg-info">
                <div class="king-counter king-counter-lg">
                    <div class="king-counter-label text-uppercase f16">虚拟机</div>
                    <div class="king-counter-number-group">
                        <span class="king-counter-number white">1024个</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6">
        <div class="king-widget2">
            <div class="king-widget-content p20 bg-info">
                <div class="king-counter king-counter-lg">
                    <div class="king-counter-label text-uppercase f16">存储</div>
                    <div class="king-counter-number-group">
                        <span class="king-counter-number white">4T</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /.row -->

<div class="row charts">
    <div class="col-md-6">
        <div class="king-block king-block-bordered mb30">
            <div class="king-block-header">
                <h3 class="king-block-title">内存统计</h3>
            </div>
            <div class="king-block-content">
                <div class="chart" id="chartA"></div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="king-block king-block-bordered mb30">
            <div class="king-block-header">
                <h3 class="king-block-title">CPU统计</h3>
            </div>
            <div class="king-block-content">
                <div class="chart" id="chartC"></div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="king-block king-block-bordered mb30">
            <div class="king-block-header">
                <h3 class="king-block-title">存储统计</h3>
            </div>
            <div class="king-block-content">
                <div class="chart" id="chartB"></div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="king-block king-block-bordered mb30">
            <div class="king-block-header">
                <h3 class="king-block-title">流量统计</h3>
            </div>
            <div class="king-block-content">
                <div class="chart" id="chartD"></div>
            </div>
        </div>
    </div>

</div>
<!-- /.row -->
</%block>

<%block name="script">
<!-- 包括所有kendoui的js插件或者可以根据需要使用的js插件调用　-->
<script src="https://magicbox.bkclouds.cc/static_api/v3/assets/kendoui-2015.2.624/js/kendo.all.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {

        $('#chartA').kendoChart({
            legend:{
                position : "bottom"
            },
            theme : 'bootstrap',
            seriesDefaults: {
                labels: {
                    template: "#= category # - #= kendo.format('{0:P}', percentage)#",
                    position: "outsideEnd",
                    visible: true,
                    background: "transparent"
                }
            },
            series: [{
                name: '内存分布',
                type: 'pie',
                data: [{
                        category:'Cluster1',
                        value:335
                    },
                    {
                        value: 310,
                        category: 'Cluster2'
                    },
                    {
                        value: 234,
                        category: 'Cluster3'
                    },
                ]
            }]
        });


        $('#chartB').kendoChart({
            legend:{
                position : "bottom"
            },
            theme : 'bootstrap',
            seriesDefaults: {
                labels: {
                    template: "#= category # - #= kendo.format('{0:P}', percentage)#",
                    position: "outsideEnd",
                    visible: true,
                    background: "transparent"
                }
            },
            series: [{
                name: 'CPU分布',
                type: 'pie',
                data: [{
                        category:'上海数据中心',
                        value:335
                    },
                    {
                        value: 310,
                        category: '北京数据中心'
                    },
                    {
                        value: 234,
                        category: '深圳数据中心'
                    },
                ]
            }]
        });

        $('#chartC').kendoChart({
            legend:{
                position : "bottom"
            },
            theme : 'bootstrap',
            seriesDefaults: {
                labels: {
                    template: "#= category # - #= kendo.format('{0:P}', percentage)#",
                    position: "outsideEnd",
                    visible: true,
                    background: "transparent"
                }
            },
            series: [{
                name: '存储分布',
                type: 'pie',
                data: [{
                        category:'上海数据中心',
                        value:335
                    },
                    {
                        value: 310,
                        category: '北京数据中心'
                    },
                    {
                        value: 234,
                        category: '深圳数据中心'
                    },
                ]
            }]
        });

        $('#chartD').kendoChart({
            legend:{
                position : "bottom"
            },
            theme : 'bootstrap',
            seriesDefaults: {
                labels: {
                    template: "#= category # - #= kendo.format('{0:P}', percentage)#",
                    position: "outsideEnd",
                    visible: true,
                    background: "transparent"
                }
            },
            series: [{
                name: '流量统计',
                type: 'pie',
                data: [{
                        category:'Cluster1',
                        value:335
                    },
                    {
                        value: 310,
                        category: 'Cluster2'
                    },
                    {
                        value: 234,
                        category: 'Cluster3'
                    },
                ]
            }]
        });

    });

    //重新绘制
    $(window).on('resize',function(){
        var chartA = $("#chartA").data("kendoChart");
        var chartB = $("#chartB").data("kendoChart");
        var chartC = $("#chartC").data("kendoChart");
        var chartD = $("#chartD").data("kendoChart");

        chartA.redraw();
        chartB.redraw();
        chartC.redraw();
        chartD.redraw();
    });
</script>
</%block>
